# ChainMaker 核心模块

本目录包含了长安链（ChainMaker）的核心功能模块，每个子模块都承担着特定的功能职责。

## 模块结构

### 核心模块

- **core**: 核心数据结构和基础功能实现
- **blockchain**: 区块链核心实现，负责区块的管理和链式结构维护
- **consensus**: 共识机制实现，支持多种共识算法
- **txpool**: 交易池管理，处理待打包的交易

### 安全和访问控制

- **accesscontrol**: 访问控制模块，负责权限管理和身份认证
- **txfilter**: 交易过滤器，用于交易的合法性验证

### 网络和通信

- **net**: 网络通信模块，处理节点间的消息传递
- **rpcserver**: RPC服务器，提供对外的接口服务
- **sync**: 区块同步模块，确保节点间数据一致性

### 虚拟机和智能合约

- **vm**: 虚拟机实现，用于智能合约的执行

### 状态管理

- **snapshot**: 快照管理，用于状态回滚和历史查询
- **subscriber**: 订阅者模块，处理事件订阅和通知

### 监控和运维

- **monitor**: 监控模块，收集和展示系统运行状态

## 模块间关系

```
                    +--------------+
                    |  rpcserver   |
                    +------+-------+
                           |
                    +------+-------+
                    |   txpool     |
                    +------+-------+
                           |
         +-----------------)----------------+
         |                |                |
   +-----+-----+   +-----+-----+    +-----+-----+
   |consensus  |   |blockchain |    |    vm     |
   +-----------+   +-----------+    +-----------+
         |              |                |
   +-----+-----+   +-----+-----+   +----+------+
   |   net     |   | snapshot  |   |txfilter   |
   +-----------+   +-----------+   +-----------+
         |              |                |
   +-----+-----+   +-----+-----+   +----+------+
   |   sync    |   |subscriber |   |accesscontrol|
   +-----------+   +-----------+   +-----------+
```

## 开发指南

每个模块都遵循以下设计原则：
1. 模块化设计，职责单一
2. 接口清晰，依赖明确
3. 高内聚，低耦合
4. 可扩展性设计

在进行开发时，请注意：
- 遵循既定的接口规范
- 确保代码的可测试性
- 添加必要的文档和注释
- 保持与其他模块的兼容性

## 测试要求

每个模块都应该包含：
- 单元测试
- 集成测试
- 性能测试（关键模块）

## 文档规范

每个模块的实现都应该包含：
- 接口文档
- 实现说明
- 配置说明
- 使用示例
